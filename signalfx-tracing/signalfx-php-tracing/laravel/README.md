# Laravel Auto-Instrumentation Example

This illustration uses the [Laravel quickstart](https://laravel.com/docs/5.2/quickstart-intermediate) demo app to provide an example of automatically producing distributed traces using the
[SignalFx Tracing Library for PHP](https://github.com/signalfx/signalfx-php-tracing). The traces will encompass those generated by the laravel framework as well as those generated by PHP Data Objects (PDO) layer as it accesses the MySQL database. 

## Building the example app and client

To run this example locally and send traces to your available Smart Agent or Gateway, there are the following prerequisites:

1. You already have installed the `signalfx_tracing` extension. If this is not the case, you may install the extension by following the [installation instructions here.](https://github.com/signalfx/signalfx-php-tracing/README.md#installation)
2. That your Smart Agent
or Gateway is accepting traces at http://localhost:9080/v1/trace.  If this is not the case,
you can set the `SIGNALFX_ENDPOINT_URL` environment variable to the desired url to suit your
environment before launching the server and client.

With the above requirements satisfied, from this directory run the following commands:

```bash
composer install
composer run-mysql
php artisan migrate
export SIGNALFX_TRACING_CLI_ENABLED=true
export SIGNALFX_SERVICE_NAME=<YOUR APP NAME>
php artisan serve
```

You may navigate to `http://localhost:8000/` in order to interact with the app and generate traces.
